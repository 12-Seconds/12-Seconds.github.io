<!DOCTYPE html>
<html lang="en">
<head>
<!-- 2021-07-05 Mon 09:56 -->
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Emacs config</title>
<meta name="generator" content="Org mode">
<meta name="author" content="Matei Cotocel">
<meta name="description" content="A literate Emacs config written in Org"
>
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #ccc;
    box-shadow: 3px 3px 3px #eee;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: auto;
    padding-top: 1.2em;
  }
  pre.src:before {
    display: none;
    position: absolute;
    background-color: white;
    top: -10px;
    right: 10px;
    padding: 3px;
    border: 1px solid black;
  }
  pre.src:hover:before { display: inline; margin-top: 14px;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-hledger:before { content: 'hledger'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'Javascript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .equation-container {
    display: table;
    text-align: center;
    width: 100%;
  }
  .equation {
    vertical-align: middle;
  }
  .equation-label {
    display: table-cell;
    text-align: right;
    vertical-align: middle;
  }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { width: 90%; }
  /*]]>*/-->
</style>
<link rel="stylesheet" type="text/css" href="./style.css"/>
<script type="text/javascript">
// @license magnet:?xt=urn:btih:e95b018ef3580986a04669f1b5879592219e2a7a&dn=public-domain.txt Public Domain
<!--/*--><![CDATA[/*><!--*/
     function CodeHighlightOn(elem, id)
     {
       var target = document.getElementById(id);
       if(null != target) {
         elem.classList.add("code-highlighted");
         target.classList.add("code-highlighted");
       }
     }
     function CodeHighlightOff(elem, id)
     {
       var target = document.getElementById(id);
       if(null != target) {
         elem.classList.remove("code-highlighted");
         target.classList.remove("code-highlighted");
       }
     }
    /*]]>*///-->
// @license-end
</script>
</head>
<body>
<div id="content">
<h1 class="title">Emacs config</h1>
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#org5e74314">Intro</a></li>
<li><a href="#org11f288a">General settings</a>
<ul>
<li><a href="#orgf50328c">Small changes</a></li>
<li><a href="#org25bbf1a">Package config</a></li>
<li><a href="#orgb6e35af">Git info</a></li>
<li><a href="#org0f609c6">UI elements</a></li>
<li><a href="#orgf18cce9">Font</a>
<ul>
<li><a href="#org463d912">Normal font</a></li>
<li><a href="#org8ba31ee">Symbol font</a></li>
</ul>
</li>
<li><a href="#org7838c43">Prettify symbols</a></li>
<li><a href="#orgc6d50f5">Line numbers</a></li>
<li><a href="#org4424cde">File locations</a></li>
<li><a href="#orgaeab86b">Miscellaneous minor modes</a></li>
<li><a href="#orge95bc1f">New line</a></li>
<li><a href="#orgb145630">Y/N</a></li>
<li><a href="#org1a6ce70">Scroll</a></li>
<li><a href="#org20383e6">Indentation</a></li>
<li><a href="#org1cd28f1">Disabled commands</a></li>
<li><a href="#org2076391">Shell script mode</a></li>
</ul>
</li>
<li><a href="#org47ea57b">Package settings</a>
<ul>
<li><a href="#org91067d1">Path</a></li>
<li><a href="#org922ba15">Evil keybindings</a>
<ul>
<li><a href="#orga13f323">Base</a></li>
<li><a href="#orgcdea425">Collection</a></li>
<li><a href="#org03ab291">Org</a></li>
<li><a href="#orgabd0c99">Leader</a></li>
<li><a href="#orgf9c36bf">Additional keybindings</a></li>
<li><a href="#orgf9d6fbc">Miscellaneous settings</a></li>
</ul>
</li>
<li><a href="#org1088328">Which-key</a></li>
<li><a href="#org1729bd0">Ivy</a></li>
<li><a href="#org89c8be3">Dashboard</a></li>
<li><a href="#org644bc61">File tree</a></li>
<li><a href="#org67c72f9">Magit</a></li>
<li><a href="#org8a433c9">Parentheses</a>
<ul>
<li><a href="#org93c7c62">Smart parentheses</a></li>
<li><a href="#orgc80d796">Rainbow parentheses</a></li>
</ul>
</li>
<li><a href="#orgf4257a6">Terminal</a></li>
<li><a href="#org0859138">Icons</a></li>
<li><a href="#orgc858a5f">Modeline</a></li>
<li><a href="#org2d1436a">Undo-tree</a></li>
<li><a href="#org00dc598">Formatter</a></li>
<li><a href="#org4d6df49">Colorscheme</a></li>
<li><a href="#org901942b">Mail</a></li>
<li><a href="#orgff86be0">Chat</a>
<ul>
<li><a href="#org6206077">Irc</a></li>
<li><a href="#orgc246e66">Matrix</a></li>
<li><a href="#orgb701744">Discord rice presence</a></li>
</ul>
</li>
<li><a href="#org3605bd6">RSS</a></li>
<li><a href="#org79627b8">EMMS</a></li>
<li><a href="#org011e5a7">LSP</a></li>
<li><a href="#orgc0e9c07">Flycheck</a></li>
<li><a href="#orgcfb23bb">Projectile</a></li>
</ul>
</li>
<li><a href="#orgc74abaf">Org mode</a>
<ul>
<li><a href="#org28cbdcf">Files locations</a></li>
<li><a href="#orga09f852">Exporting</a></li>
<li><a href="#org5669c7b">Bullets</a></li>
<li><a href="#orgf337889">UI</a></li>
<li><a href="#org19bdc7e">Keywords</a></li>
<li><a href="#orga96e0d4">Org roam</a></li>
<li><a href="#orge58d3a5">Org capture</a></li>
<li><a href="#orgb48c928">Babel</a>
<ul>
<li><a href="#orgd9fbcbd">Go support</a></li>
</ul>
</li>
<li><a href="#orge542e79">Faces</a></li>
<li><a href="#org5531080">Present</a></li>
</ul>
</li>
<li><a href="#org2e0774c">Functions</a></li>
</ul>
</div>
</div>

<div id="outline-container-org5e74314" class="outline-2">
<h2 id="org5e74314">Intro</h2>
<div class="outline-text-2" id="text-org5e74314">
<p>
Emacs is not just a mere text editor. It's a Lisp machine with text editing capabilities. This means anything you can think of, Emacs can do it. Of course, you have text editing capabilities. But you can also use it as a Git frontend. as an IRC client, an RSS reader. Such is the extensible of Emacs.
</p>

<p>
In this Org document, you'll find my literate Emacs configuration. I wouldn't advise you to use this as your config. Instead, you should add snippets of this document to your configuration.
</p>
</div>
</div>

<div id="outline-container-org11f288a" class="outline-2">
<h2 id="org11f288a">General settings</h2>
<div class="outline-text-2" id="text-org11f288a">
</div>
<div id="outline-container-orgf50328c" class="outline-3">
<h3 id="orgf50328c">Small changes</h3>
<div class="outline-text-3" id="text-orgf50328c">
<p>
We add the load path for pieces of lisp code, and change the warning level to emergency so we don't get distracted. We also load a <code>private.el</code> file, where I store passwords.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(load-file "~/.config/emacs/etc/private.el")
(add-to-list 'load-path "~/.config/emacs/lisp/")
(setq warning-minimum-level :emergency)
(setq auto-window-vscroll nil)
</pre>
</div>
</div>
</div>

<div id="outline-container-org25bbf1a" class="outline-3">
<h3 id="org25bbf1a">Package config</h3>
<div class="outline-text-3" id="text-org25bbf1a">
<p>
We setup melpa, use-package, and straight.el for installing package later on. Melpa is better than elpa since it has a lot more packages than elpa. Use-package is pretty useful since packages can be automatically installed and lazy-loaded. Straight.el is for downloading packages from git. We also install a package to update installed packages
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(require 'package)

(setq package-archives '(("gnu" . "http://elpa.gnu.org/packages/")
                         ("melpa" . "http://melpa.org/packages/")))

(package-initialize)
(unless package-archive-contents
  (package-refresh-contents))

(unless (package-installed-p 'use-package)
  (package-refresh-contents)
  (package-install 'use-package))
(require 'use-package)

(setq use-package-always-ensure t)
(setq straight-use-package-by-default t)

(defvar bootstrap-version)
(let ((bootstrap-file
       (expand-file-name "straight/repos/straight.el/bootstrap.el" user-emacs-directory))
      (bootstrap-version 5))
  (unless (file-exists-p bootstrap-file)
    (with-current-buffer
        (url-retrieve-synchronously
         "https://raw.githubusercontent.com/raxod502/straight.el/develop/install.el"
         'silent 'inhibit-cookies)
      (goto-char (point-max))
      (eval-print-last-sexp)))
  (load bootstrap-file nil 'nomessage))
(setq package-enable-at-startup nil)

(use-package auto-package-update
   :ensure t
   :config
   (setq auto-package-update-delete-old-versions t
         auto-package-update-interval 4)
   (auto-package-update-maybe))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgb6e35af" class="outline-3">
<h3 id="orgb6e35af">Git info</h3>
<div class="outline-text-3" id="text-orgb6e35af">
<p>
We set up our username and email for git.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(when (equal ""
             (shell-command-to-string "git config user.name"))
  (shell-command "git config --global user.name \"Matei Cotocel\"")
  (shell-command "git config --global user.email \"mcotocel@outlook.com\""))
</pre>
</div>
</div>
</div>

<div id="outline-container-org0f609c6" class="outline-3">
<h3 id="org0f609c6">UI elements</h3>
<div class="outline-text-3" id="text-org0f609c6">
<p>
We remove unnecessary UI elements, like the menu bar, scroll bar, and tool bar. These are useless, I don't like them, I don't want them.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(menu-bar-mode -1)
(scroll-bar-mode -1)
(tool-bar-mode -1)
(setq inhibit-splash-screen t
      inhibit-startup-echo-area-message t
      inhibit-startup-message t)
(setq ring-bell-function 'ignore)
</pre>
</div>
</div>
</div>

<div id="outline-container-orgf18cce9" class="outline-3">
<h3 id="orgf18cce9">Font</h3>
<div class="outline-text-3" id="text-orgf18cce9">
</div>
<div id="outline-container-org463d912" class="outline-4">
<h4 id="org463d912">Normal font</h4>
<div class="outline-text-4" id="text-org463d912">
<p>
Here we set a nice font, because if I'm going to be staring at code for hours, I want it to look good. Change the font size to whatever you want.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(add-to-list 'default-frame-alist '(font . "Iosevka Nerd Font-15"))
</pre>
</div>
</div>
</div>

<div id="outline-container-org8ba31ee" class="outline-4">
<h4 id="org8ba31ee">Symbol font</h4>
<div class="outline-text-4" id="text-org8ba31ee">
<p>
We also need to set a symbol font. Here I use Twemoji, since it looks pretty good.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(set-fontset-font t 'symbol (font-spec :family "Twemoji") nil 'prepend)
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org7838c43" class="outline-3">
<h3 id="org7838c43">Prettify symbols</h3>
<div class="outline-text-3" id="text-org7838c43">
<p>
This replaces some text with icons.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">  (defun org/prettify-set ()
    (interactive)
    (setq prettify-symbols-alist
        '(("#+begin_src" . "")
          ("#+BEGIN_SRC" . "")
          ("#+end_src" . "")
          ("#+END_SRC" . "")
          ("#+begin_example" . "")
          ("#+BEGIN_EXAMPLE" . "")
          ("#+end_example" . "")
          ("#+END_EXAMPLE" . "")
          ("#+results:" . "")
          ("#+RESULTS:" . "")
          ("#+begin_quote" . "❝")
          ("#+BEGIN_QUOTE" . "❝")
          ("#+end_quote" . "❞")
          ("#+END_QUOTE" . "❞")
          ("[ ]" . "☐")
          ("[-]" . "◯")
          ("[X]" . "☑"))))
  (add-hook 'org-mode-hook 'org/prettify-set)

  (defun prog/prettify-set ()
    (interactive)
    (setq prettify-symbols-alist
        '(("lambda" . "λ")
          ("-&gt;" . "→")
          ("&lt;-" . "←")
          ("&lt;=" . "≤")
          ("&gt;=" . "≥")
          ("!=" . "≠")
          ("~=" . "≃"))))
  (add-hook 'prog-mode-hook 'prog/prettify-set)

(global-prettify-symbols-mode)

</pre>
</div>
</div>
</div>

<div id="outline-container-orgc6d50f5" class="outline-3">
<h3 id="orgc6d50f5">Line numbers</h3>
<div class="outline-text-3" id="text-orgc6d50f5">
<p>
Line numbers are very useful. Relative line numbers are even more so, since you don't do much maths with them.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(global-display-line-numbers-mode)
(setq display-line-numbers-type 'relative)
</pre>
</div>

<p>
Sometimes line numbers can be distracting, so we disable them for certain modes
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(dolist (mode '(org-mode-hook
                term-mode-hook
                vterm-mode-hook
                eshell-mode-hook
                neotree-mode-hook
                elfeed-show-mode
                circe-channel-mode
                circe-chat-mode
                woman-mode-hook))
(add-hook mode (lambda () (display-line-numbers-mode 0))))
</pre>
</div>
</div>
</div>

<div id="outline-container-org4424cde" class="outline-3">
<h3 id="org4424cde">File locations</h3>
<div class="outline-text-3" id="text-org4424cde">
<p>
To keep thing organized, we set the locations of different files here.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(setq recentf-save-file "~/.config/emacs/etc/recentf" ;; File for recentf
      recentf-max-saved-items 50)
(setq savehist-file "~/.config/emacs/etc/savehist" ;; File for save history
      history-length 150)
(setq save-place-file "~/.config/emacs/etc/saveplace") ;; File for save place
(setq bookmark-default-file "~/.config/emacs/etc/bookmarks") ;; File for bookmarks
(setq backup-directory-alist '(("." . "~/.config/emacs/backups")) ;; Directory for backups
      delete-old-versions t
      kept-old-versions 20
      vc-make-backup-files t
      version-control t)
(setq custom-file "~/.config/emacs/etc/custom.el") ;; For saved customizations
(setq create-lockfiles nil) ;; Disable lockfiles
</pre>
</div>
</div>
</div>

<div id="outline-container-orgaeab86b" class="outline-3">
<h3 id="orgaeab86b">Miscellaneous minor modes</h3>
<div class="outline-text-3" id="text-orgaeab86b">
<p>
These are some useful minor modes that I tend to use.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(save-place-mode) ;; Save location
(global-visual-line-mode) ;; Wrap lines
(add-hook 'org-mode-hook 'flyspell-mode) ;; Spell checker
</pre>
</div>
</div>
</div>

<div id="outline-container-orge95bc1f" class="outline-3">
<h3 id="orge95bc1f">New line</h3>
<div class="outline-text-3" id="text-orge95bc1f">
<p>
Style guides usually say there should be an empty line at the end of a file, so we enable this here.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(setq require-final-newline t)
</pre>
</div>
</div>
</div>

<div id="outline-container-orgb145630" class="outline-3">
<h3 id="orgb145630">Y/N</h3>
<div class="outline-text-3" id="text-orgb145630">
<p>
When Emacs prompts us, you need to fully type <i>yes</i> or <i>no</i>. This replaces it with <i>y</i> or <i>n.</i>
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(defalias 'yes-or-no-p 'y-or-n-p)
</pre>
</div>
</div>
</div>

<div id="outline-container-org1a6ce70" class="outline-3">
<h3 id="org1a6ce70">Scroll</h3>
<div class="outline-text-3" id="text-org1a6ce70">
<p>
Better and smoother scroll that <i>doesn't</i> make your eyes hurt.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(setq redisplay-dont-pause t
  scroll-margin 1
  scroll-step 1
  scroll-conservatively 10000
  scroll-preserve-screen-position 1
  scroll-up-aggressively 0.01
  scroll-down-aggressively 0.01)
</pre>
</div>
</div>
</div>

<div id="outline-container-org20383e6" class="outline-3">
<h3 id="org20383e6">Indentation</h3>
<div class="outline-text-3" id="text-org20383e6">
<p>
Here we configure indentation. I prefer using tabs, but I convert them to spaces.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(setq-default indent-tabs-mode nil)
(setq-default tab-width 4)
(setq indent-line-function 'insert-tab)
</pre>
</div>
</div>
</div>

<div id="outline-container-org1cd28f1" class="outline-3">
<h3 id="org1cd28f1">Disabled commands</h3>
<div class="outline-text-3" id="text-org1cd28f1">
<p>
Yes Emacs, I'm <i>sure</i> I want to use the command. Or even better, why don't we enable them all?
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(setq disabled-command-function nil)
</pre>
</div>
</div>
</div>

<div id="outline-container-org2076391" class="outline-3">
<h3 id="org2076391">Shell script mode</h3>
<div class="outline-text-3" id="text-org2076391">
<p>
I edit PKGBUILD files (for pacman) and PACKAGE files (for shade) quite a lot, and they're basically shell scripts.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(add-to-list 'auto-mode-alist '("PKGBUILD\\'" . shell-script-mode))
(add-to-list 'auto-mode-alist '("PACKAGE\\'" . shell-script-mode))
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org47ea57b" class="outline-2">
<h2 id="org47ea57b">Package settings</h2>
<div class="outline-text-2" id="text-org47ea57b">
</div>
<div id="outline-container-org91067d1" class="outline-3">
<h3 id="org91067d1">Path</h3>
<div class="outline-text-3" id="text-org91067d1">
<p>
First we install a package to set the path for macOS, since for some reason it doesn't work out of the box.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package exec-path-from-shell
   :config
   (exec-path-from-shell-initialize))
</pre>
</div>
</div>
</div>

<div id="outline-container-org922ba15" class="outline-3">
<h3 id="org922ba15">Evil keybindings</h3>
<div class="outline-text-3" id="text-org922ba15">
<p>
Here we install and configure evil, since I <i>cannot</i> use the default Emacs keys. Evil is the only way I've managed to move to Emacs. The Vim key bindings are a <i>lot</i> better than the Emacs keybindings. evil-collection is for miscellaneous minor modes, evil-org for org mode, and evil leader adds a leader key.
</p>
</div>

<div id="outline-container-orga13f323" class="outline-4">
<h4 id="orga13f323">Base</h4>
<div class="outline-text-4" id="text-orga13f323">
<p>
This is the main evil package, that allows you to use vim keybindings.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package evil
  :init
  (setq evil-want-integration t)
  (setq evil-want-keybinding nil)
  :config
  (evil-mode 1))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgcdea425" class="outline-4">
<h4 id="orgcdea425">Collection</h4>
<div class="outline-text-4" id="text-orgcdea425">
<p>
This package adds vim keybindings for miscellaneous minor modes, such as dired and mu4e.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package evil-collection
  :after evil
  :config
  (evil-collection-init))
</pre>
</div>
</div>
</div>

<div id="outline-container-org03ab291" class="outline-4">
<h4 id="org03ab291">Org</h4>
<div class="outline-text-4" id="text-org03ab291">
<p>
For some reason evil-collection doesn't include org bindings, so we install another package.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package evil-org
  :after org
  :config
  (require 'evil-org-agenda)
  (evil-org-agenda-set-keys))
</pre>
</div>
</div>
</div>
<div id="outline-container-orgabd0c99" class="outline-4">
<h4 id="orgabd0c99">Leader</h4>
<div class="outline-text-4" id="text-orgabd0c99">
<p>
This adds a leader key to Emacs, which is <i>incredibly</i> useful.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package evil-leader
  :config
  (global-evil-leader-mode)
  (evil-leader/set-leader "&lt;SPC&gt;")
  (evil-leader/set-key
    ;; General
    "&lt;SPC&gt;" 'counsel-M-x
    ".f" 'counsel-grep-or-swiper
    ".q" 'delete-frame
    ;; Undo
    "uv" 'undo-tree-visualize
    "uu" 'undo-tree-undo
    "ur" 'undo-tree-redo
    "uc" 'counsel-yank-pop
    ;; Files
    "fr" 'counsel-recentf
    "fb" 'counsel-bookmark
    "ff" 'counsel-find-file
    "fd" 'counsel-dired
    ;; Bufffers
    "bv" 'split-window-right
    "bh" 'split-window-below
    "bd" 'kill-current-buffer
    ;; Projectile
    "pf" 'projectile-find-file
    "pp" 'projectile-switch-project
    "pg" 'projectile-grep
    "pm" 'projectile-commander
    "pc" 'projectile-compile-project
    ;; Org mode
    "oc" 'org-edit-special
    "ol" 'org-latex-previw
    "ot" 'org-ctrl-c-ctrl-c
    "oi" 'org-toggle-inline-images
    "oa" 'org-agenda
    "os" 'org-schedule
    ; Export
    "oep" 'org-latex-export-to-pdf
    "oeh" 'org-html-export-to-html
    ; Roam
    "orf" 'org-roam-find-file
    "ori" 'org-roam-insert
    "oru" 'org-roam-db-build-cache
    "ors" 'org-roam-server-mode
    ; Babel
    "obs" 'org-babel-execute-src-block
    "obb" 'org-babel-execute-buffer
    "obl" 'org-babel-load-file
    ;; Workgroups
    "wa" 'ivy-push-view
    "wd" 'ivy-pop-view
    "ws" 'ivy-switch-view
    ;; Help
    "hh" 'help
    "hk" 'describe-key
    "hv" 'describe-variable
    "hf" 'describe-function
    "hs" 'describe-symbol
    "hm" 'describe-mode
    ;; Magit
    "gs" 'magit-status))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgf9c36bf" class="outline-4">
<h4 id="orgf9c36bf">Additional keybindings</h4>
<div class="outline-text-4" id="text-orgf9c36bf">
<p>
Here I bind some extra keybindings for evil mode.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">
(define-key evil-normal-state-map (kbd "M-s") 'save-buffer)
(define-key evil-normal-state-map (kbd "M-q") 'delete-window)
(define-key evil-normal-state-map (kbd "M-w") 'kill-current-buffer)

(define-key evil-normal-state-map (kbd "M-x") 'counsel-M-x)
(define-key evil-normal-state-map (kbd "&lt;C-tab&gt;") 'ivy-switch-buffer)

(define-key evil-normal-state-map (kbd "C-h") 'evil-window-left)
(define-key evil-normal-state-map (kbd "C-j") 'evil-window-down)
(define-key evil-normal-state-map (kbd "C-k") 'evil-window-up)
(define-key evil-normal-state-map (kbd "C-l") 'evil-window-right)
(define-key evil-normal-state-map (kbd "M-j") 'evil-scroll-down)
(define-key evil-normal-state-map (kbd "M-k") 'evil-scroll-up)

(define-key evil-normal-state-map "u" 'undo-tree-undo)
(define-key evil-normal-state-map (kbd "C-r") 'undo-tree-redo)

(define-key evil-normal-state-map (kbd "M-t") 'neotree-toggle)
(define-key evil-normal-state-map (kbd "&lt;C-return&gt;") 'shr-browse-url)
(define-key key-translation-map (kbd "ESC") (kbd "C-g"))

(define-key evil-normal-state-map (kbd "C-=") 'text-scale-increase)
(define-key evil-normal-state-map (kbd "C--") 'text-scale-decrease)
(define-key evil-normal-state-map (kbd "C-0") 'text-scale-adjust)

(define-key evil-normal-state-map (kbd "&lt;remap&gt; &lt;evil-next-line&gt;") 'evil-next-visual-line)
(define-key evil-normal-state-map (kbd "&lt;remap&gt; &lt;evil-previous-line&gt;") 'evil-previous-visual-line)
(define-key evil-motion-state-map (kbd "&lt;remap&gt; &lt;evil-next-line&gt;") 'evil-next-visual-line)
(define-key evil-motion-state-map (kbd "&lt;remap&gt; &lt;evil-previous-line&gt;") 'evil-previous-visual-line)

</pre>
</div>
</div>
</div>

<div id="outline-container-orgf9d6fbc" class="outline-4">
<h4 id="orgf9d6fbc">Miscellaneous settings</h4>
<div class="outline-text-4" id="text-orgf9d6fbc">
</div>
<ul class="org-ul">
<li><a id="org8369daf"></a>Cursor shapes<br>
<div class="outline-text-5" id="text-org8369daf">
<p>
Set the cursor shape for different evil states.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(set-default 'evil-normal-state-cursor 'hbar)
(set-default 'evil-insert-state-cursor 'bar)
(set-default 'evil-visual-state-cursor 'hbar)
(set-default 'evil-motion-state-cursor 'box)
(set-default 'evil-replace-state-cursor 'box)
(set-default 'evil-operator-state-cursor 'hbar)
(set-cursor-color "#80D1FF")
(setq-default cursor-type 'bar) 
</pre>
</div>
</div>
</li>

<li><a id="orgbf81714"></a>Small additions<br>
<div class="outline-text-5" id="text-orgbf81714">
<p>
We want <i>some</i> Emacs in evil, so we change a few settings here.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(setq evil-cross-lines t
      evil-move-beyond-eol t
      evil-want-fine-undo t
      evil-symbol-word-search t
      evil-want-Y-yank-to-eol t
      evil-cross-lines t)
</pre>
</div>
</div>
</li>
</ul>
</div>
</div>

<div id="outline-container-org1088328" class="outline-3">
<h3 id="org1088328">Which-key</h3>
<div class="outline-text-3" id="text-org1088328">
<p>
We install which-key in case we ever forget any keybinds.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package which-key
  :config (which-key-mode)
  (which-key-setup-side-window-bottom)
  (setq which-key-idle-delay 0.1))
</pre>
</div>
</div>
</div>

<div id="outline-container-org1729bd0" class="outline-3">
<h3 id="org1729bd0">Ivy</h3>
<div class="outline-text-3" id="text-org1729bd0">
<p>
Ivy helps with better completion and to replace the default M-x. Counsel adds a few things, ivy-rich makes it look better.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package ivy
  :config (ivy-mode t)
  (setq ivy-initial-inputs-alist nil)
  (setq ivy-count-format "[%d/%d] ")
  (setq ivy-use-virtual-buffers t)
  (setq ivy-height 33)
(setq ivy-ignore-buffers '("\\` " "\\`\\*" "magit*")))

(use-package counsel
  :after ivy
  :config (counsel-mode t))

;; (use-package ivy-posframe
;;   :after ivy
;;   :config
;;   (setq ivy-posframe-display-functions-alist '((t . ivy-posframe-display-at-frame-top-center)))
;;   (setq ivy-posframe-parameters
;;     '((left-fringe . 30)
;;       (right-fringe . 30)))
;;   (ivy-posframe-mode t))

(use-package all-the-icons-ivy-rich
  :init (all-the-icons-ivy-rich-mode 1))

(use-package ivy-rich
  :init (ivy-rich-mode 1))
</pre>
</div>
</div>
</div>

<div id="outline-container-org89c8be3" class="outline-3">
<h3 id="org89c8be3">Dashboard</h3>
<div class="outline-text-3" id="text-org89c8be3">
<p>
The default startup screen is bland, let's replace it with a nice dashboard. We also add some buttons, and make it more simplistic.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package dashboard
  :config
  (setq dashboard-center-content t
    dashboard-show-shortcuts nil
    dashboard-banner-logo-title "Welcome to Emacs"
    dashboard-startup-banner "/Users/Matei/Code/linux-dotfiles/Pictures/pfp_rounded_small.png"
    dashboard-set-heading-icons t
    dashboard-set-file-icons t
    dashboard-set-navigator t)
  (setq dashboard-items '())
  (dashboard-setup-startup-hook))
(setq dashboard-navigator-buttons
      `(((,
         (all-the-icons-octicon "file-text" :height 1.0 :v-adjust 0.05)
         "Open recent files"
         "Open recent files"
         (lambda (&amp;rest _) (counsel-recentf)))

        (,(all-the-icons-octicon "bookmark" :height 1.0 :v-adjust 0.0)
         "Open bookmarks"
         "Open bookmarks"
         (lambda (&amp;rest _) (counsel-bookmark)))

        (,(all-the-icons-octicon "rocket" :height 1.0 :v-adjust 0.05)
         "Open projects"
         "Open projects"
         (lambda (&amp;rest _) (projectile-switch-project))))

        ((,(all-the-icons-octicon "calendar" :height 1.0 :v-adjust 0.05)
         "View org agenda"
         "View org agenda"
         (lambda (&amp;rest _) (org-agenda)))

        (,(all-the-icons-octicon "keyboard" :height 1.0 :v-adjust 0.0)
         "Restore session"
         "Restore session"
         (lambda (&amp;rest _) (persp-state-load "~/.config/emacs/perspective/default.el"))))))
(setq dashboard-footer-messages '(
"While any text editor can save your files, only Emacs can save your soul"
"Welcome to the Church of Emacs"
"Emacs - The thermonuclear word processor"
"Escape Meta Alt Control Shift"
"Eight Megs And Constantly Swapping"
"Vi Vi Vi, the editor of the beast"))

(setq initial-buffer-choice (lambda () (get-buffer "*dashboard*")))
</pre>
</div>
</div>
</div>

<div id="outline-container-org644bc61" class="outline-3">
<h3 id="org644bc61">File tree</h3>
<div class="outline-text-3" id="text-org644bc61">
<p>
Neotree is a cool file tree, so we install it. Although I usually use dired, neotree can be useful if you need a tree layout.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package neotree)
(setq neo-theme (if (display-graphic-p) 'icons 'arrow))
(add-hook 'neotree-mode-hook
         (lambda ()
           (define-key evil-normal-state-local-map (kbd "SPC") 'neotree-quick-look)
           (define-key evil-normal-state-local-map (kbd "RET") 'neotree-enter)
           (define-key evil-normal-state-local-map (kbd "g") 'neotree-refresh)
           (define-key evil-normal-state-local-map (kbd "n") 'neotree-next-line)
           (define-key evil-normal-state-local-map (kbd "p") 'neotree-previous-line)
           (define-key evil-normal-state-local-map (kbd "A") 'neotree-stretch-toggle)
           (define-key evil-normal-state-local-map (kbd "H") 'neotree-hidden-file-toggle)))
</pre>
</div>
</div>
</div>

<div id="outline-container-org67c72f9" class="outline-3">
<h3 id="org67c72f9">Magit</h3>
<div class="outline-text-3" id="text-org67c72f9">
<p>
Magit is the best git client, and it is a <i>must</i>. Less typing, less time spent using git, and more coding.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package magit
  :defer t)
</pre>
</div>
</div>
</div>

<div id="outline-container-org8a433c9" class="outline-3">
<h3 id="org8a433c9">Parentheses</h3>
<div class="outline-text-3" id="text-org8a433c9">
</div>
<div id="outline-container-org93c7c62" class="outline-4">
<h4 id="org93c7c62">Smart parentheses</h4>
<div class="outline-text-4" id="text-org93c7c62">
<p>
Most code editors automatically match parentheses, but Emacs doesn't do this, so we install a package.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package smartparens
  :config (smartparens-global-mode)
  (show-smartparens-mode))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgc80d796" class="outline-4">
<h4 id="orgc80d796">Rainbow parentheses</h4>
<div class="outline-text-4" id="text-orgc80d796">
<p>
Most editors also automatically color matching parentheses, but again, we need to install a package for this.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package rainbow-delimiters
  :config
  (add-hook 'prog-mode-hook #'rainbow-delimiters-mode))
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orgf4257a6" class="outline-3">
<h3 id="orgf4257a6">Terminal</h3>
<div class="outline-text-3" id="text-orgf4257a6">
<p>
The default builtin terminal for Emacs is slow, so we install vterm instead
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package vterm)
</pre>
</div>
</div>
</div>

<div id="outline-container-org0859138" class="outline-3">
<h3 id="org0859138">Icons</h3>
<div class="outline-text-3" id="text-org0859138">
<p>
We need all-the-icons for some packages, so let's install it.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package all-the-icons)
</pre>
</div>
</div>
</div>

<div id="outline-container-orgc858a5f" class="outline-3">
<h3 id="orgc858a5f">Modeline</h3>
<div class="outline-text-3" id="text-orgc858a5f">
<p>
The default modeline is ugly, this package replaces it with one that looks like the doom modeline.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package doom-modeline
  :init (doom-modeline-mode 1)
  :config (setq doom-modeline-height 25)
  (setq doom-modeline-icon t))
</pre>
</div>
</div>
</div>

<div id="outline-container-org2d1436a" class="outline-3">
<h3 id="org2d1436a">Undo-tree</h3>
<div class="outline-text-3" id="text-org2d1436a">
<p>
We want to visualize undo history better, so we install undo-tree.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package undo-tree
  :config
  (global-undo-tree-mode))
  (setq undo-tree-auto-save-history t)
  (setq undo-tree-history-directory-alist '(("." . "~/.config/emacs/undo")))
</pre>
</div>
</div>
</div>

<div id="outline-container-org00dc598" class="outline-3">
<h3 id="org00dc598">Formatter</h3>
<div class="outline-text-3" id="text-org00dc598">
<p>
Let's install a formatter to format our horrible code.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package format-all
  :hook (prog-mode . format-all-mode))
</pre>
</div>
</div>
</div>

<div id="outline-container-org4d6df49" class="outline-3">
<h3 id="org4d6df49">Colorscheme</h3>
<div class="outline-text-3" id="text-org4d6df49">
<p>
My colorscheme uses doom-themes as a base, so we have to install it.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package doom-themes
  :config
  (load-theme 'doom-quiet-dark t)
  (doom-themes-neotree-config))

(use-package solaire-mode
  :config (solaire-global-mode 1))
</pre>
</div>
</div>
</div>

<div id="outline-container-org901942b" class="outline-3">
<h3 id="org901942b">Mail</h3>
<div class="outline-text-3" id="text-org901942b">
<p>
Emacs can do everything, including manage mail.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(add-to-list 'load-path "/nix/store/iqwc7yp6pffda0zxxvlhrcww3bvn5lcq-mu-1.4.15/share/emacs/site-lisp/mu4e/")
(require 'mu4e)
(setq mu4e-maildir (expand-file-name "~/Mail/"))

(setq mu4e-drafts-folder "/Drafts")
(setq mu4e-sent-folder   "/Sent")
(setq mu4e-trash-folder  "/Deleted")

(setq mu4e-get-mail-command "mbsync -a"
  mu4e-view-prefer-html t
  mu4e-update-interval 180
  mu4e-headers-auto-update t
  mu4e-compose-signature-auto-include nil
  mu4e-compose-format-flowed t)

(setq
 user-mail-address "mcotocel@outlook.com"
 user-full-name  "Matei Cotocel")

(setq mu4e-view-show-images t)

(require 'org-mu4e)

(setq org-mu4e-convert-to-html t)

(setq message-send-mail-function 'smtpmail-send-it)
(setq smtpmail-smtp-server "smtp-mail.outlook.com")
(setq smtpmail-smtp-service 587 )
(setq smtpmail-auth-credentials (expand-file-name "~/.authinfo"))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgff86be0" class="outline-3">
<h3 id="orgff86be0">Chat</h3>
<div class="outline-text-3" id="text-orgff86be0">
</div>
<div id="outline-container-org6206077" class="outline-4">
<h4 id="org6206077">Irc</h4>
<div class="outline-text-4" id="text-org6206077">
<p>
It also has an IRC client available, so let's install and configure it.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package circe)
(setq circe-network-options
      `(("Libera Chat"
         :nick "Specter"
         :channels (:after-auth "#unixporn" "#emacs")
         :nickserv-password ,libera-password)))
(setq enable-circe-display-images t)
(setq enable-circe-color-nicks t)
(add-hook 'circe-chat-mode-hook 'my-circe-prompt)
(defun my-circe-prompt ()
  (lui-set-prompt
   (concat (propertize (concat (buffer-name) "&gt;")
                       'face 'circe-prompt-face)
           " ")))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgc246e66" class="outline-4">
<h4 id="orgc246e66">Matrix</h4>
<div class="outline-text-4" id="text-orgc246e66">
<p>
I also install a matrix client.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(straight-use-package 'matrix-client)
(setq matrix-client-show-images t)
</pre>
</div>
</div>
</div>

<div id="outline-container-orgb701744" class="outline-4">
<h4 id="orgb701744">Discord rice presence</h4>
<div class="outline-text-4" id="text-orgb701744">
<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package elcord
  :config
  (elcord-mode))
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org3605bd6" class="outline-3">
<h3 id="org3605bd6">RSS</h3>
<div class="outline-text-3" id="text-org3605bd6">
<p>
I read RSS feeds, so we're going to configure a reader.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package elfeed)
(setq elfeed-feeds
       '(("http://www.reddit.com/r/emacs.rss" tech emacs)
         ("http://www.reddit.com/r/terminal_porn.rss" tech)))
(add-to-list 'evil-emacs-state-modes 'elfeed-search-mode)
(add-to-list 'evil-emacs-state-modes 'elfeed-show-mode)

(use-package elfeed-dashboard
  :config
  (setq elfeed-dashboard-file "~/Org/elfeed-dashboard.org")
  (advice-add 'elfeed-search-quit-window :after #'elfeed-dashboard-update-links))
(evil-set-initial-state 'elfeed-dashboard-mode 'emacs)
(setq browse-url-browser-function 'browse-url-generic
    browse-url-generic-program "qutebrowser")
</pre>
</div>
</div>
</div>

<div id="outline-container-org79627b8" class="outline-3">
<h3 id="org79627b8">EMMS</h3>
<div class="outline-text-3" id="text-org79627b8">
<p>
Why not listen to music in Emacs?
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package emms)
(emms-all)
(emms-default-players)
(setq emms-source-file-default-directory "/Volumes/PiNAS/Media/Music/")
</pre>
</div>
</div>
</div>

<div id="outline-container-org011e5a7" class="outline-3">
<h3 id="org011e5a7">LSP</h3>
<div class="outline-text-3" id="text-org011e5a7">
<p>
I use Emacs for coding as well, so we're going to configure lsp-mode.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package lsp-mode
  :init
  :hook ((python-mode . lsp)
         (lua-mode . lsp)
         (sh-mode . lsp)
         (lisp-mode . lsp)
         (emacs-lisp-mode . lsp)
         (css-mode . lsp)
         (html-mode . lsp)
         (json-mode . lsp)
         (markdown-mode . lsp)
         (latex-mode . lsp)
         (go-mode . lsp)
         (lsp-mode . lsp-enable-which-key-integration))
  :commands lsp
  :config
  (setq lsp-enable-symbol-highlighting nil)
  lsp-ui-doc-enable t
  lsp-lens-enable nil
  lsp-headerline-breadcrumb-enable nil
  lsp-ui-sideline-enable nil
  lsp-ui-sideline-enable t
  lsp-modeline-code-actions-enable t
  lsp-diagnostics-provider :flycheck
  lsp-ui-sideline-enable t
  lsp-ui-doc-border nil
  lsp-eldoc-enable-hover t)
(setq lsp-log-io nil)
(setq lsp-enable-file-watchers nil)

(use-package lsp-ui :commands lsp-ui-mode)

(setq lsp-enable-symbol-highlighting nil)
(custom-set-faces '(nobreak-space ((t nil))))

(use-package company
  :hook
  (after-init . global-company-mode)
  :bind (:map company-active-map
              ("&lt;tab&gt;" . company-select-next)))

(setq company-idle-delay 0.1
      company-minimum-prefix-length 1
      company-selection-wrap-around t
      company-require-match 'never
      company-dabbrev-downcase nil
      company-dabbrev-ignore-case t
      company-dabbrev-other-buffers nil
      company-tooltip-limit 5
      company-tooltip-minimum-width 50)

(use-package company-box
  :hook (company-mode . company-box-mode)
  :config
  (setq company-box-scrollbar nil))

(use-package go-mode)
(use-package json-mode)
(use-package lua-mode)
(use-package lsp-jedi
  :hook (python-mode . lsp-jedi))

(use-package yasnippet
  :hook (prog-mode . yas-global-mode))

(use-package yasnippet-snippets
  :defer t)
</pre>
</div>
</div>
</div>

<div id="outline-container-orgc0e9c07" class="outline-3">
<h3 id="orgc0e9c07">Flycheck</h3>
<div class="outline-text-3" id="text-orgc0e9c07">
<p>
Syntax checking for code.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package flycheck
  :ensure t
  :init (global-flycheck-mode))
</pre>
</div>
</div>
</div>


<div id="outline-container-orgcfb23bb" class="outline-3">
<h3 id="orgcfb23bb">Projectile</h3>
<div class="outline-text-3" id="text-orgcfb23bb">
<p>
Here, we install and configure projectile, which is a project interaction library.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package projectile
  :config (projectile-mode 1))
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orgc74abaf" class="outline-2">
<h2 id="orgc74abaf">Org mode</h2>
<div class="outline-text-2" id="text-orgc74abaf">
</div>
<div id="outline-container-org28cbdcf" class="outline-3">
<h3 id="org28cbdcf">Files locations</h3>
<div class="outline-text-3" id="text-org28cbdcf">
<p>
We want to save everything in <i>one</i> location.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(setq org-directory "~/Org/"
      org-default-notes-file "~/Org/notes.org")
(setq org-agenda-files '("~/Org/"))
</pre>
</div>
</div>
</div>

<div id="outline-container-orga09f852" class="outline-3">
<h3 id="orga09f852">Exporting</h3>
<div class="outline-text-3" id="text-orga09f852">
<p>
Let's set the export backends to things I commonly use, along with some extra settings for html exports.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(setq org-export-backends '(latex md html))

(require 'org)
(require 'ox-latex)
(add-to-list 'org-latex-packages-alist '("" "minted"))
(setq org-latex-listings 'minted) 

(setq org-latex-pdf-process
      '("pdflatex -shell-escape -interaction nonstopmode -output-directory %o %f"
        "pdflatex -shell-escape -interaction nonstopmode -output-directory %o %f"
        "pdflatex -shell-escape -interaction nonstopmode -output-directory %o %f"))

(setq org-src-fontify-natively t)

(org-babel-do-load-languages
 'org-babel-load-languages
 '((R . t)
   (latex . t)))
(setq org-html-head "&lt;link rel=\"stylesheet\" type=\"text/css\" href=\"./style.css\"/&gt;"
  org-html-doctype "html5")
(setq org-export-with-section-numbers nil)
</pre>
</div>
</div>
</div>

<div id="outline-container-org5669c7b" class="outline-3">
<h3 id="org5669c7b">Bullets</h3>
<div class="outline-text-3" id="text-org5669c7b">
<p>
Package that makes the bullets look nicer
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package org-bullets
  :after org
  :hook
  (org-mode . (lambda () (org-bullets-mode 1))))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgf337889" class="outline-3">
<h3 id="orgf337889">UI</h3>
<div class="outline-text-3" id="text-orgf337889">
<p>
A few additions to make everything look neater
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(setq org-hide-emphasis-markers t)
(setq org-image-actual-width '(300))
(set-face-attribute 'org-headline-done nil :strike-through t)
(setq org-agenda-start-on-weekday 0)
(setq org-src-tab-acts-natively t)
</pre>
</div>
</div>
</div>

<div id="outline-container-org19bdc7e" class="outline-3">
<h3 id="org19bdc7e">Keywords</h3>
<div class="outline-text-3" id="text-org19bdc7e">
<p>
Let's add our own custom keywords and highlight them
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(setq org-todo-keywords
     '((sequence "TODO" "WAITING" "PAUSED" "ALMOST" "OPTIONAL" "IMPORTANT" "DONE")))
(setq org-todo-keyword-faces
  '(("TODO"      . (:foreground "#FF8080" :weight bold))
    ("WAITING"   . (:foreground "#FFFE80" :weight bold))
    ("PAUSED"    . (:foreground "#D5D5D5" :weight bold))
    ("ALMOST"    . (:foreground "#80D1FF" :weight bold))
    ("OPTIONAL"  . (:foreground "#C780FF" :weight bold))
    ("IMPORTANT" . (:foreground "#80FFE4" :weight bold))
    ("DONE"      . (:foreground "#97D59B" :weight bold))))
</pre>
</div>
</div>
</div>

<div id="outline-container-orga96e0d4" class="outline-3">
<h3 id="orga96e0d4">Org roam</h3>
<div class="outline-text-3" id="text-orga96e0d4">
<p>
Org roam makes Org even better
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package org-roam
  :hook
  (after-init . org-roam-mode)
  :custom
  (org-roam-directory "~/org/"))

(setq org-roam-graph-viewer "/usr/bin/eog")

(use-package org-roam-server
  :config
  (setq org-roam-server-host "127.0.0.1"
        org-roam-server-port 8080
        org-roam-server-authenticate nil
        org-roam-server-export-inline-images t
        org-roam-server-serve-files nil
        org-roam-server-served-file-extensions '("pdf" "mp4" "ogv")
        org-roam-server-network-poll t
        org-roam-server-network-arrows nil
        org-roam-server-network-label-truncate t
        org-roam-server-network-label-truncate-length 60
        org-roam-server-network-label-wrap-length 20))
</pre>
</div>
</div>
</div>

<div id="outline-container-orge58d3a5" class="outline-3">
<h3 id="orge58d3a5">Org capture</h3>
<div class="outline-text-3" id="text-orge58d3a5">
<p>
We also add some templates for Org capture
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(setq org-capture-templates
    '(("t" "Todo" entry (file "~/Org/Refile.org")
       "* TODO %?\n%U" :empty-lines 1)
      ("n" "Note" entry (file "~/Org/Refile.org")
       "* NOTE %?\n%U" :empty-lines 1)))
</pre>
</div>
</div>
</div>

<div id="outline-container-orgb48c928" class="outline-3">
<h3 id="orgb48c928">Babel</h3>
<div class="outline-text-3" id="text-orgb48c928">
</div>
<div id="outline-container-orgd9fbcbd" class="outline-4">
<h4 id="orgd9fbcbd">Go support</h4>
<div class="outline-text-4" id="text-orgd9fbcbd">
<p>
Go support for babel
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package ob-go
  :config (org-babel-do-load-languages
 'org-babel-load-languages
 '((go . t))))
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orge542e79" class="outline-3">
<h3 id="orge542e79">Faces</h3>
<div class="outline-text-3" id="text-orge542e79">
<p>
This changes the faces of Org mode to a nice sans serif font.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(let* ((base-font-color     (face-foreground 'default nil 'default))
       (headline           `(:inherit default :weight bold :foreground "grey" :height 1.6)))

  (custom-theme-set-faces
   'user
   `(org-level-8 ((t (,@headline))))
   `(org-level-7 ((t (,@headline))))
   `(org-level-6 ((t (,@headline))))
   `(org-level-5 ((t (,@headline))))
   `(org-level-4 ((t (,@headline :height 1.2))))
   `(org-level-3 ((t (,@headline :height 1.3))))
   `(org-level-2 ((t (,@headline :height 1.4))))
   `(org-level-1 ((t (,@headline :height 1.5))))
   `(org-document-title ((t (,@headline :height 1.6 :underline nil))))))

(custom-theme-set-faces
 'user
 '(fixed-pitch ((t ( :family "Iosevka Nerd Font" :height 160)))))

(custom-theme-set-faces
 'user
 '(org-block                 ((t (:inherit fixed-pitch))))
 '(org-code                  ((t (:inherit fixed-pitch :weight normal))))
 '(org-document-info         ((t (,@headline :height 1.6))))
 '(org-document-info-keyword ((t (:inherit (shadow fixed-pitch)))))
 '(org-indent                ((t (:inherit (org-hide fixed-pitch)))))
 '(org-link                  ((t (:foreground "royal blue" :underline t))))
 '(org-meta-line             ((t (:inherit (font-lock-comment-face fixed-pitch)))))
 '(org-property-value        ((t (:inherit fixed-pitch))) t)
 '(org-special-keyword       ((t (:inherit (font-lock-comment-face fixed-pitch)))))
 '(org-table                 ((t (:inherit fixed-pitch :foreground "#384149"))))
 '(org-tag                   ((t (:inherit (shadow fixed-pitch) :weight bold :height 0.8))))
 '(org-verbatim              ((t (:inherit (shadow fixed-pitch))))))
</pre>
</div>
</div>
</div>

<div id="outline-container-org5531080" class="outline-3">
<h3 id="org5531080">Present</h3>
<div class="outline-text-3" id="text-org5531080">
<p>
Make presentations with org mode.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(use-package org-present)
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org2e0774c" class="outline-2">
<h2 id="org2e0774c">Functions</h2>
<div class="outline-text-2" id="text-org2e0774c">
<p>
Edit the current file as root.
</p>

<div class="org-src-container">
<pre class="src src-emacs-lisp">(defun edit-file-root ()
  "Use tramp to edit the current buffer as root"
  (interactive)
  (when buffer-file-name
    (find-alternate-file
     (concat "/sudo:root@localhost:"
             buffer-file-name))))
</pre>
</div>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="author">Author: Matei Cotocel</p>
<p class="date">Created: 2021-07-05 Mon 09:56</p>
<p class="validation"><a href="https://validator.w3.org/check?uri=referer">Validate</a></p>
</div>
</body>
</html>
